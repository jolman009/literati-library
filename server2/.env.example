# Environment Configuration for Literati API Server
# Copy this file to .env and fill in your actual values

# =====================================================
# Server Configuration
# =====================================================
NODE_ENV=development
PORT=5000

# =====================================================
# Database Configuration (Supabase)
# =====================================================
SUPABASE_URL=https://jjlxdsghmsemuparbfbh.supabase.co
SUPABASE_SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpqbHhkc2dobXNlbXVwYXJiZmJoIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc1NzY0OTQyOSwiZXhwIjoyMDczMjI1NDI5fQ.p7MeqBoC6Eo6R70JTjAW5xBesX1UUKlT1DgKRaJAiqE
# =====================================================
# JWT Security Configuration
# =====================================================
# IMPORTANT: Generate strong secrets for production!
# Use: openssl rand -base64 32
JWT_SECRET=your_jwt_secret_at_least_32_characters_long
JWT_REFRESH_SECRET=your_refresh_secret_different_from_jwt_secret

# JWT Token Expiration
JWT_ACCESS_EXPIRY=15m
JWT_REFRESH_EXPIRY=7d

# =====================================================
# CORS Configuration
# =====================================================
# Comma-separated list of allowed origins for production
ALLOWED_ORIGINS=https://yourapp.com,https://www.yourapp.com

# Additional allowed connection sources for CSP
ALLOWED_CONNECT_SRC=https://api.yourdomain.com

# =====================================================
# Cookie Configuration
# =====================================================
# Domain for cookies (leave empty for same domain)
COOKIE_DOMAIN=

# =====================================================
# File Upload Configuration
# =====================================================
# Maximum file size in bytes (default: 50MB)
MAX_FILE_SIZE=52428800

# Quarantine path for suspicious files
QUARANTINE_PATH=/tmp/quarantine

# =====================================================
# Logging Configuration
# =====================================================
LOG_LEVEL=info
MAX_LOG_SIZE=100MB
LOG_ROTATION=daily

# =====================================================
# Monitoring and Alerting
# =====================================================
# Email for security alerts
ALERT_EMAIL=admin@yourapp.com

# Webhook URL for alerts
ALERT_WEBHOOK=https://hooks.slack.com/your-webhook-url

# Slack webhook for notifications
SLACK_WEBHOOK=https://hooks.slack.com/services/your-slack-webhook

# =====================================================
# Error Tracking and Monitoring
# =====================================================
# Sentry DSN for error tracking and performance monitoring
# Get this from: https://sentry.io/settings/[org]/projects/[project]/keys/
# Example: https://xxxxx@xxxxx.ingest.sentry.io/xxxxx
SENTRY_DSN=

# App version for release tracking
APP_VERSION=1.0.0

# Server name for identification in Sentry
SERVER_NAME=literati-api

# =====================================================
# External API Configuration
# =====================================================
# Google Gemini API for AI features
GOOGLE_API_KEY=your_google_gemini_api_key

# =====================================================
# Security Headers and Features
# =====================================================
# IP whitelist (comma-separated, optional)
IP_WHITELIST=

# Rate limiting overrides (optional)
RATE_LIMIT_GENERAL=100
RATE_LIMIT_AUTH=5
RATE_LIMIT_UPLOAD=20
RATE_LIMIT_SENSITIVE=3

# =====================================================
# Production-Only Configuration
# =====================================================
# SSL/TLS Configuration (production only)
SSL_KEY_PATH=/path/to/ssl/private.key
SSL_CERT_PATH=/path/to/ssl/certificate.crt

# Database SSL (production only)
DB_SSL=true

# =====================================================
# Development-Only Configuration
# =====================================================
# Enable debug mode (development only)
DEBUG=true

# Disable security features for testing (development only)
DISABLE_RATE_LIMITING=false
DISABLE_CSRF=false

# =====================================================
# Example Production Values
# =====================================================
# NODE_ENV=production
# PORT=443
# JWT_SECRET=a_very_long_and_random_string_with_at_least_32_characters
# JWT_REFRESH_SECRET=another_different_very_long_random_string_for_refresh_tokens
# ALLOWED_ORIGINS=https://literati.pro,https://www.literati.pro
# SUPABASE_URL=https://your-project.supabase.co
# SUPABASE_SERVICE_KEY=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9...
# COOKIE_DOMAIN=.literati.pro
# SSL_KEY_PATH=/etc/ssl/private/literati.key
# SSL_CERT_PATH=/etc/ssl/certs/literati.crt

# =====================================================
# Security Notes
# =====================================================
# 1. Never commit this file with real values to version control
# 2. Use environment-specific .env files (.env.production, .env.staging)
# 3. Rotate JWT secrets regularly in production
# 4. Use strong, unique secrets for each environment
# 5. Enable all security features in production
# 6. Monitor logs for security events
# 7. Set up alerts for suspicious activity
# 8. Regularly update dependencies
# 9. Use HTTPS in production
# 10. Implement database backups